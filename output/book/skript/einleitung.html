<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>1&nbsp; Einleitung – Bausteine Computergestützter Datenanalyse</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../skript/operationen.html" rel="next">
<link href="../index.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-130c2ef3da62f04209ff5e2fb00d8304.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<link rel="shortcut icon" href="skript/00-bilder/favicon_bcd_new.svg">
<link rel="icon" type="image/x-icon" href="logo.ico">


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../skript/einleitung.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Einleitung</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Suchen" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../skript/00-bilder/logo_with_text_new.svg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Werkzeugbaustein Pandas</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Werkzeugbaustein Pandas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../skript/einleitung.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Einleitung</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../skript/operationen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Operationen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../skript/plotting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Grafikerstellung</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../skript/datentypen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Datentypen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../skript/datetime.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Zeitreihen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../skript/dateien.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Dateien lesen und schreiben</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#die-datenstrukturen-series-und-dataframe" id="toc-die-datenstrukturen-series-und-dataframe" class="nav-link active" data-scroll-target="#die-datenstrukturen-series-und-dataframe"><span class="header-section-number">1.1</span> Die Datenstrukturen Series und DataFrame</a>
  <ul class="collapse">
  <li><a href="#series" id="toc-series" class="nav-link" data-scroll-target="#series">Series</a></li>
  <li><a href="#aufgabe-series" id="toc-aufgabe-series" class="nav-link" data-scroll-target="#aufgabe-series">Aufgabe Series</a></li>
  <li><a href="#dataframe" id="toc-dataframe" class="nav-link" data-scroll-target="#dataframe">DataFrame</a></li>
  <li><a href="#aufgabe-dataframe" id="toc-aufgabe-dataframe" class="nav-link" data-scroll-target="#aufgabe-dataframe">Aufgabe DataFrame</a></li>
  </ul></li>
  <li><a href="#deskriptive-datenanalyse-mit-pandas" id="toc-deskriptive-datenanalyse-mit-pandas" class="nav-link" data-scroll-target="#deskriptive-datenanalyse-mit-pandas"><span class="header-section-number">1.2</span> Deskriptive Datenanalyse mit Pandas</a></li>
  <li><a href="#slicing" id="toc-slicing" class="nav-link" data-scroll-target="#slicing"><span class="header-section-number">1.3</span> Slicing</a>
  <ul class="collapse">
  <li><a href="#slice-operator" id="toc-slice-operator" class="nav-link" data-scroll-target="#slice-operator">Slice Operator</a></li>
  <li><a href="#slicing-mit-pandas-methoden" id="toc-slicing-mit-pandas-methoden" class="nav-link" data-scroll-target="#slicing-mit-pandas-methoden">Slicing mit Pandas-Methoden</a></li>
  <li><a href="#indexbasiertes-slicing-mit-.iloc" id="toc-indexbasiertes-slicing-mit-.iloc" class="nav-link" data-scroll-target="#indexbasiertes-slicing-mit-.iloc">Indexbasiertes Slicing mit .iloc[]</a></li>
  </ul></li>
  <li><a href="#aufgaben-slicing" id="toc-aufgaben-slicing" class="nav-link" data-scroll-target="#aufgaben-slicing"><span class="header-section-number">1.4</span> Aufgaben Slicing</a></li>
  <li><a href="#datenstrukturen-verbinden" id="toc-datenstrukturen-verbinden" class="nav-link" data-scroll-target="#datenstrukturen-verbinden"><span class="header-section-number">1.5</span> Datenstrukturen verbinden</a></li>
  <li><a href="#einfügen-und-löschen-in-datenstrukturen" id="toc-einfügen-und-löschen-in-datenstrukturen" class="nav-link" data-scroll-target="#einfügen-und-löschen-in-datenstrukturen"><span class="header-section-number">1.6</span> Einfügen und löschen in Datenstrukturen</a></li>
  <li><a href="#aufgaben-verbinden-und-löschen" id="toc-aufgaben-verbinden-und-löschen" class="nav-link" data-scroll-target="#aufgaben-verbinden-und-löschen"><span class="header-section-number">1.7</span> Aufgaben verbinden und löschen</a></li>
  <li><a href="#quellen" id="toc-quellen" class="nav-link" data-scroll-target="#quellen">Quellen</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Einleitung</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Das Modul Pandas wurde für die Arbeit mit strukturierten Daten konzipiert. Pandas erleichtert die Analyse insbesondere von in Tabellenform vorliegenden Daten, da es mit dem DataFrame eine leicht zu benutzende Struktur für die Verarbeitung unterschiedlicher Datentypen und fehlenden Werten bietet. Wie NumPy erlaubt Pandas vektorisierte Operationen, ohne mit Hilfe einer Schleife jedes Element eines Sammeltyps durchlaufen zu müssen. Pandas integriert darüber hinaus Funktionalitäten anderer Module und bietet unter anderem einen einheitlichen Zugang zu:</p>
<ul>
<li>Datumsinformationen und Zeitreihen</li>
<li>Grafikerstellung</li>
<li>Einlesen von Dateien</li>
</ul>
<p>Das Modul Pandas wird mit dem Befehl <code>import pandas</code> geladen. Als Kürzel hat sich pd etabliert. Da Pandas auf dem Modul NumPy aufbaut, werden häufig beide Module geladen. Viele Funktionen und Methoden von NumPy und Pandas sind miteinander kompatibel.</p>
<div id="d4e234e3" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="die-datenstrukturen-series-und-dataframe" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="die-datenstrukturen-series-und-dataframe"><span class="header-section-number">1.1</span> Die Datenstrukturen Series und DataFrame</h2>
<p>Pandas führt die zwei Klassen <code>Series</code> und <code>DataFrame</code> ein.</p>
<ul>
<li><p><code>Series</code> sind eindimensionale Arrays, die genau einen Datentyp haben.</p></li>
<li><p><code>DataFrame</code> sind zweidimensionale Arrays, die spaltenweise aus <code>Series</code> bestehen und so verschiedene Datentypen enthalten können. (Durch hierarchische Indexierung sind mehrdimensionale Datenstrukturen möglich, siehe <a href="https://pandas.pydata.org/docs/user_guide/advanced.html">MultiIndex</a>.)</p></li>
</ul>
<p>Beide Datenstrukturen verfügen über einen Index, der in der Ausgabe angezeigt wird.</p>
<div id="1cdd2c95" class="cell" data-execution_count="2">
<div class="cell-output cell-output-stdout">
<pre><code>Der Index beginnt wie in der Pythonbasis bei 0.
0    Frühschicht
1    Frühschicht
2    Spätschicht
dtype: string</code></pre>
</div>
</div>
<p>Der Index ist standardmäßig numerisch, kann aber mit beliebigen Werten versehen werden.</p>
<div id="0abaf90c" class="cell" data-execution_count="3">
<div class="cell-output cell-output-stdout">
<pre><code>Der Index kann angepasst werden.
Montag      Frühschicht
Dienstag    Frühschicht
Mittwoch    Spätschicht
dtype: string</code></pre>
</div>
</div>
<section id="series" class="level3">
<h3 class="anchored" data-anchor-id="series">Series</h3>
<p><code>Series</code> werden mit der Funktion <code>pd.Series(data)</code> erstellt. data kann ein Einzelwert, ein Sammeltyp oder ein NumPy-Array sein.</p>
<div id="4d4be379" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>einzelwert_series <span class="op">=</span> pd.Series(<span class="st">'Hallo Welt!'</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Series aus Einzelwert:</span><span class="ch">\n</span><span class="sc">{</span>einzelwert_series<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>numerische_series <span class="op">=</span> pd.Series([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Series aus Liste:</span><span class="ch">\n</span><span class="sc">{</span>numerische_series<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>alphanumerische_series <span class="op">=</span> pd.Series((<span class="st">'a'</span>, <span class="st">'5'</span>, <span class="st">'g'</span>))</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Series aus Tupel:</span><span class="ch">\n</span><span class="sc">{</span>alphanumerische_series<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>boolean_series <span class="op">=</span> pd.Series(np.array([<span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>])) <span class="co"># NumPy-Array</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Series aus NumPy-Array:</span><span class="ch">\n</span><span class="sc">{</span>boolean_series<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Series aus Einzelwert:
0    Hallo Welt!
dtype: object

Series aus Liste:
0    1
1    2
2    3
dtype: int64

Series aus Tupel:
0    a
1    5
2    g
dtype: object

Series aus NumPy-Array:
0     True
1    False
2     True
dtype: bool</code></pre>
</div>
</div>
<p>Beim Anlegen einer <code>pd.Series</code> können verschiedene Parameter übergeben werden:</p>
<ul>
<li><p><code>pd.Series(data, dtype = 'float')</code> legt den Datentyp der Series fest.</p></li>
<li><p><code>pd.Series(data, index = ['A1', 'B2', 'C3'])</code> übergibt Werte für den Index.</p></li>
<li><p><code>pd.Series(data, name = 'der Name')</code> legt einen Namen für die Series fest.</p></li>
</ul>
<div id="987fb27f" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>numerische_series <span class="op">=</span> pd.Series([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], dtype <span class="op">=</span> <span class="st">'float'</span>, index <span class="op">=</span> [<span class="st">'A1'</span>, <span class="st">'B2'</span>, <span class="st">'C3'</span>],name <span class="op">=</span> <span class="st">'Gleitkommazahlen'</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numerische_series)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>A1    1.0
B2    2.0
C3    3.0
Name: Gleitkommazahlen, dtype: float64</code></pre>
</div>
</div>
<p>Für eine bestehende Series können Name und Index über entsprechende Attribute aufgerufen und geändert werden. Um den Datentyp zu ändern, wird die Methode <code>pd.Series.astype()</code> verwendet. Eine Übersicht der in Pandas verfügbaren Datentypen finden Sie in der <a href="https://pandas.pydata.org/docs/user_guide/basics.html#dtypes">Pandas-Dokumentation</a>.</p>
<div id="21e7a58a" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Name der Series: </span><span class="sc">{</span>numerische_series<span class="sc">.</span>name<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>numerische_series.name <span class="op">=</span> <span class="st">'Fließkommazahlen'</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Index der Series: </span><span class="sc">{</span>numerische_series<span class="sc">.</span>index<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>numerische_series.index <span class="op">=</span>  [<span class="st">'eins'</span>, <span class="st">'zwei'</span>, <span class="st">'drei'</span>]</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>numerische_series <span class="op">=</span> numerische_series.astype(<span class="st">'string'</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Die geänderte Series:</span><span class="ch">\n</span><span class="sc">{</span>numerische_series<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Name der Series: Gleitkommazahlen
Index der Series: Index(['A1', 'B2', 'C3'], dtype='object')

Die geänderte Series:
eins    1.0
zwei    2.0
drei    3.0
Name: Fließkommazahlen, dtype: string</code></pre>
</div>
</div>
</section>
<section id="aufgabe-series" class="level3">
<h3 class="anchored" data-anchor-id="aufgabe-series">Aufgabe Series</h3>
<p>Ändern Sie den Datentyp des Objekts ‘numerische_series’ in Ganzzahl und wählen Sie einen neuen Namen für die Series aus.</p>
<div id="tip-dtype" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tipp&nbsp;1.1: Musterlösung dtype
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="bd814200" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>numerische_series.name <span class="op">=</span> <span class="st">'Ganzzahlen'</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>numerische_series <span class="op">=</span> numerische_series.astype(<span class="st">'float'</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>numerische_series <span class="op">=</span> numerische_series.astype(<span class="st">'int'</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numerische_series)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>eins    1
zwei    2
drei    3
Name: Ganzzahlen, dtype: int64</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="dataframe" class="level3">
<h3 class="anchored" data-anchor-id="dataframe">DataFrame</h3>
<p>Ein <code>DataFrame</code> wird mit der Funktion <code>pd.DataFrame([data])</code> angelegt. data ist listenartig, kann aber aus einem Einzelwert, einer Series, einem Numpy-Array oder aus mehreren Series und Sammeltypen bestehen.</p>
<div id="85406ef0" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>einzelwert_df <span class="op">=</span> pd.DataFrame([<span class="st">'Hallo Welt!'</span>])</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(einzelwert_df, <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>df_aus_listen <span class="op">=</span> pd.DataFrame([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]])</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_aus_listen, <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>df_aus_series <span class="op">=</span> pd.DataFrame([alphanumerische_series, boolean_series])</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_aus_series, <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>df_aus_verschieden <span class="op">=</span> pd.DataFrame([np.array([<span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>]), alphanumerische_series, [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]]) <span class="co"># NumPy-Array</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_aus_verschieden)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             0
0  Hallo Welt! 

   0  1  2
0  1  2  3
1  4  5  6 

      0      1     2
0     a      5     g
1  True  False  True 

      0      1     2
0  True  False  True
1     a      5     g
2     1      2     3</code></pre>
</div>
</div>
<p>Beim Anlegen eines DataFrames können ebenfalls verschiedene Parameter übergeben werden:</p>
<ul>
<li><p><code>pd.DataFrame(data, dtype = 'float')</code> legt den Datentyp des DataFrames für alle Werte fest. Wird der Parameter nicht übergeben, wählt Pandas einen passenden Datentyp für jede Spalte aus.</p></li>
<li><p><code>pd.DataFrame(data, index = ['A1', 'B2', 'C3'])</code> übergibt Werte für den Index.</p></li>
<li><p><code>pd.DataFrame(data, columns = ['Spalte1', 'Spalte2'])</code> übergibt Werte für die Spaltenbeschriftung.</p></li>
</ul>
<p>Um Daten spaltenweise einzutragen, kann der DataFrame zum einen mit dem Attribut <code>DataFrame.T</code> transponiert werden. Dabei müssen die Spaltenbeschriftungen als Argument <code>index</code> und die Indexbeschriftung als Argument <code>columns</code> übergeben werden.</p>
<div id="0ab28ac4" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df_transponiert <span class="op">=</span> pd.DataFrame([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>]], index <span class="op">=</span> [<span class="st">'Spalte 1'</span>, <span class="st">'Spalte 2'</span>], columns <span class="op">=</span> [<span class="st">'Zeile 1'</span>, <span class="st">'Zeile 2'</span>, <span class="st">'Zeile 3'</span>]).T</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_transponiert)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Spalte 1 Spalte 2
Zeile 1        1     True
Zeile 2        2    False
Zeile 3        3     True</code></pre>
</div>
</div>
<p>Eine direkte Zuordnung der Beschriftungen ist möglich, indem zuerst der transponierte DataFrame angelegt und anschließend über die Attribute <code>.index</code> und <code>.columns</code> die Beschriftungen eingetragen werden.</p>
<div id="a3b102cc" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df_transponiert <span class="op">=</span> pd.DataFrame([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>]]).T</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>df_transponiert.columns <span class="op">=</span> [<span class="st">'Spalte 1'</span>, <span class="st">'Spalte 2'</span>]</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>df_transponiert.index <span class="op">=</span> [<span class="st">'Zeile 1'</span>, <span class="st">'Zeile 2'</span>, <span class="st">'Zeile 3'</span>]</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_transponiert)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Spalte 1 Spalte 2
Zeile 1        1     True
Zeile 2        2    False
Zeile 3        3     True</code></pre>
</div>
</div>
<p>Das Anlegen von transponierten DataFrames hat den Nachteil, dass Pandas die Datentypen der eingegebenen Daten spaltenweise verwaltet. Bei der zeilenweise erfolgenden Eingabe von Daten unterschiedlichen Datentyps wird ein für alle Spalten passender Datentyp gewählt. Im folgenden Beispiel wird deshalb von Pandas der Datentyp <code>object</code> für gemischte Datentypen gewählt.</p>
<div id="815e6eed" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df_transponiert <span class="op">=</span> pd.DataFrame([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>]], index <span class="op">=</span> [<span class="st">'Zahlen'</span>, <span class="st">'Buchstaben'</span>]).T</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_transponiert)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="sc">{</span>df_transponiert<span class="sc">.</span>dtypes<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Zahlen Buchstaben
0      1          a
1      2          b
2      3          c

Zahlen        object
Buchstaben    object
dtype: object</code></pre>
</div>
</div>
<p>Zum anderen kann ein DataFrame direkt aus einem Dictionary erzeugt werden. Dabei werden die Schlüssel als Spaltenbeschriftung verwendet.</p>
<div id="36c3b5b0" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">'Spalte 1'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], <span class="st">'Spalte 2'</span>: [<span class="fl">4.1</span>, <span class="fl">5.6</span>, <span class="fl">6.0</span>]}, index <span class="op">=</span> [<span class="st">'oben'</span>, <span class="st">'mitte'</span>, <span class="st">'unten'</span>])</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Spalte 1  Spalte 2
oben          1       4.1
mitte         2       5.6
unten         3       6.0</code></pre>
</div>
</div>
<p>Außerdem kann ein DataFrame durch Zuweisung von Daten erweitert werden.</p>
<div id="84e78080" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># einen leeren DataFrame erzeugen</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame()</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Zuweisung von Daten</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Spaltenbeschriftung'</span>] <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'zweite Spalte'</span>] <span class="op">=</span> alphanumerische_series</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Spaltenbeschriftung zweite Spalte
0                    1             a
1                    2             5
2                    3             g</code></pre>
</div>
</div>
<div id="tip-index" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tipp&nbsp;1.2: Der Index
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>In den meisten Fällen ist der von 0 bis n-1 reichende Index am praktischsten. Der numerische Index hilft bei der Auswahl von Indexbereichen (Slicing) und der Arbeit mit mehreren Datenstrukturen. Probieren Sie einmal aus, was passiert, wenn Sie einen DataFrame aus zwei Series mit unterschiedlichen Indizes erstellen.</p>
<p>Auch widerspricht das Auslagern beschreibender oder gemessener Variablen in den Index dem Konzept tidy data, einem System zum Strukturieren von Datensätzen, das Sie im <a href="https://bausteine-der-datenanalyse.github.io/m-einlesen-strukturierter-datens-tze/einlesen-strukturierter-datens%C3%A4tze.html">Methodenbaustein Einlesen strukturierter Datensätze</a> kennenlernen.</p>
</div>
</div>
</div>
<p>Bestehende DataFrames können ähnlich wie Series modifiziert werden. Um den Datentyp einer oder mehrerer Spalten zu ändern, wird die Methode <code>pd.DataFrame.astype()</code> verwendet.</p>
<div id="18011a9f" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">'Spalte 1'</span>: [<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>], <span class="st">'Spalte 2'</span>: [<span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>]})</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Die Datentypen von df:</span><span class="ch">\n</span><span class="sc">{</span>df<span class="sc">.</span>dtypes<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Datentyp von Spalte 1 ändern</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Spalte 1'</span>] <span class="op">=</span> df[<span class="st">'Spalte 1'</span>].astype(<span class="st">'string'</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Die Datentypen von df:</span><span class="ch">\n</span><span class="sc">{</span>df<span class="sc">.</span>dtypes<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Die Datentypen von df:
Spalte 1    object
Spalte 2      bool
dtype: object

Die Datentypen von df:
Spalte 1    string[python]
Spalte 2              bool
dtype: object</code></pre>
</div>
</div>
<p>Ebenso kann allen Spalten eines DataFrames ein Datentyp zugewiesen werden.</p>
<div id="c20bc18e" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.astype(<span class="st">'string'</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Die Datentypen von df:</span><span class="ch">\n</span><span class="sc">{</span>df<span class="sc">.</span>dtypes<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Die Datentypen von df:
Spalte 1    string[python]
Spalte 2    string[python]
dtype: object</code></pre>
</div>
</div>
<p>Um unterschiedliche Datentypen zuzweisen, wird ein Dictionary verwendet.</p>
<div id="cbcada3b" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.astype({<span class="st">'Spalte 1'</span>: <span class="st">'int'</span>, <span class="st">'Spalte 2'</span>: <span class="st">'bool'</span>})</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Die Datentypen von df:</span><span class="ch">\n</span><span class="sc">{</span>df<span class="sc">.</span>dtypes<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Die Datentypen von df:
Spalte 1    int64
Spalte 2     bool
dtype: object</code></pre>
</div>
</div>
<p>Spaltennamen und Index eines bestehenden <code>DataFrame</code> können über entsprechende Attribute oder Methoden verändert werden. Die Spaltennamen können über das Attribut <code>pd.DataFrame.columns</code> geändert werden. Dabei wird eine Liste übergeben, deren Länge der Spaltenanzahl entsprechen muss. Der Index kann über das Attribut <code>pd.DataFrame.index</code> geändert werden, indem eine Liste zugewiesen wird. Dabei muss die Länge der Liste der Anzahl Zeilen entsprechen.</p>
<div id="6fb66df0" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ändern der Spaltennamen über das Attribut .columns</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>df.columns <span class="op">=</span> [<span class="st">'Spalte1'</span>, <span class="st">'Spalte2'</span>]</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>df.index <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Spalte1  Spalte2
1        1     True
2        2     True
3        3     True</code></pre>
</div>
</div>
<p>Mit der Methode <code>pd.DataFrame.rename(columns = {"alt1": "neu1", "alt2": "neu2"}, index = {"alt1": "neu1", "alt2": "neu2"}, inplace = True)</code> können Spalten- und Zeilenbeschriftungen in Form eines Dictionarys übergeben werden. Auf diese Weise können alle oder ausgewählte Beschriftungen geändert werden. Durch das Argument <code>inplace = True</code> erfolgt die Zuweisung direkt ohne Neuzuweisung des Objekts.</p>
<div id="04dfbe47" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df.rename(columns <span class="op">=</span> {<span class="st">'Spalte1'</span>: <span class="st">'Spalte_1'</span>, <span class="st">'Spalte2'</span>: <span class="st">'Spalte_2'</span>}, index <span class="op">=</span> {<span class="dv">1</span>: <span class="st">'A1'</span>, <span class="dv">2</span>: <span class="st">'B2'</span>, <span class="dv">3</span>: <span class="st">'C3'</span>}, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Spalte_1  Spalte_2
A1         1      True
B2         2      True
C3         3      True</code></pre>
</div>
</div>
<p>Mit der Methode <code>pd.DataFrame.reset_index(inplace = True, drop = True)</code> wird der Index auf die Standardwerte zurückgesetzt. Wird der Parameter <code>drop = False</code> gesetzt, wird der alte Index als Spalte an Indexposition 0 in den DataFrame eingefügt.</p>
<div id="87d0fbc2" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>df.reset_index(inplace <span class="op">=</span> <span class="va">True</span>, drop <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Spalte_1  Spalte_2
0         1      True
1         2      True
2         3      True</code></pre>
</div>
</div>
</section>
<section id="aufgabe-dataframe" class="level3">
<h3 class="anchored" data-anchor-id="aufgabe-dataframe">Aufgabe DataFrame</h3>
<p>Erstellen Sie einen DataFrame.</p>
<ul>
<li>Die erste Spalte soll die Zahlen von 1 bis 12 enthalten und mit ‘Nummer’ beschriftet werden. Die zweite Spalte soll die Monatsnamen des Jahres enthalten und mit ‘Monat’ beschriftet werden.</li>
<li>Fügen Sie nachträglich die Series ‘ferien’ als dritte Spalte mit der Spaltenbeschriftung ‘Ferien’ ein.<br>
<code>ferien = [False, False, False, True, False, True, True, True, False, True, False, True]</code></li>
</ul>
<div id="tip-musterloesungdataframe" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tipp&nbsp;1.3: Musterlösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="88ac9091" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>ferien <span class="op">=</span> [<span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>, <span class="va">True</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>]</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Nummer'</span>: <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">13</span>)),</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Monat'</span>: [<span class="st">'Januar'</span>, <span class="st">'Februar'</span>, <span class="st">'März'</span>, <span class="st">'April'</span>, <span class="st">'Mai'</span>, <span class="st">'Juni'</span>, <span class="st">'Juli'</span>, <span class="st">'August'</span>, <span class="st">'September'</span>, <span class="st">'Oktober'</span>, <span class="st">'November'</span>, <span class="st">'Dezember'</span>],</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Ferien'</span>] <span class="op">=</span> ferien</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Nummer      Monat  Ferien
0        1     Januar   False
1        2    Februar   False
2        3       März   False
3        4      April    True
4        5        Mai   False
5        6       Juni    True
6        7       Juli    True
7        8     August    True
8        9  September   False
9       10    Oktober    True
10      11   November   False
11      12   Dezember    True</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="deskriptive-datenanalyse-mit-pandas" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="deskriptive-datenanalyse-mit-pandas"><span class="header-section-number">1.2</span> Deskriptive Datenanalyse mit Pandas</h2>
<p><strong>Dieser Teil ist zu großen Teilen auch im m-EsD enthalten –&gt; eine Dopplung wäre okay, ein Querverweis kann aber auch ergänzt werden.</strong></p>
<p>Pandas bietet einige praktische Funktionen, um den Aufbau eines Datensatzes und die enthaltenen Daten zu beschreiben. Als Beispieldatensatz dienen Daten zur Länge zahnbildender Zellen bei Meerschweinchen, die Vitamin C direkt (VC) oder in Form von Orangensaft (OJ) in unterschiedlichen Dosen erhielten.</p>
<div class="border">
<div id="lst-readfile" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<div aria-describedby="lst-readfile-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div id="67f9b498" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>dateipfad <span class="op">=</span> <span class="st">"01-daten/ToothGrowth.csv"</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>meerschweinchen <span class="op">=</span> pd.read_csv(filepath_or_buffer <span class="op">=</span> dateipfad, sep <span class="op">=</span> <span class="st">','</span>, header <span class="op">=</span> <span class="dv">0</span>, <span class="op">\</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  names <span class="op">=</span> [<span class="st">'ID'</span>, <span class="st">'len'</span>, <span class="st">'supp'</span>, <span class="st">'dose'</span>], dtype <span class="op">=</span> {<span class="st">'ID'</span>: <span class="st">'int'</span>, <span class="st">'len'</span>: <span class="st">'float'</span>, <span class="st">'dose'</span>: <span class="st">'float'</span>, <span class="st">'supp'</span>: <span class="st">'category'</span>})</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-lst quarto-uncaptioned" id="lst-readfile-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Code-Block&nbsp;1.1
</figcaption>
</figure>
</div>
<p>Crampton, E. W. 1947. „THE GROWTH OF THE ODONTOBLASTS OF THE INCISOR TOOTH AS A CRITERION OF THE VITAMIN C INTAKE OF THE GUINEA PIG“. The Journal of Nutrition 33 (5): 491–504. <a href="https://doi.org/10.1093/jn/33.5.491" class="uri">https://doi.org/10.1093/jn/33.5.491</a></p>
<p>Der Datensatz kann in R mit dem Befehl “ToothGrowth” aufgerufen werden.</p>
</div>
<p>&nbsp;</p>
<p>Ein Aussschnitt des Datensatzes:</p>
<div id="20faf77e" class="cell" data-execution_count="22">
<div class="cell-output cell-output-display" data-execution_count="22">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">ID</th>
<th data-quarto-table-cell-role="th">len</th>
<th data-quarto-table-cell-role="th">supp</th>
<th data-quarto-table-cell-role="th">dose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>4.2</td>
<td>VC</td>
<td>0.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>11</td>
<td>16.5</td>
<td>VC</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>21</td>
<td>23.6</td>
<td>VC</td>
<td>2.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">30</td>
<td>31</td>
<td>15.2</td>
<td>OJ</td>
<td>0.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">40</td>
<td>41</td>
<td>19.7</td>
<td>OJ</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50</td>
<td>51</td>
<td>25.5</td>
<td>OJ</td>
<td>2.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>&nbsp;</p>
<p>Die Methode <code>pd.DataFrame.info()</code> erzeugt eine Beschreibung des Datensatzes.</p>
<div id="0f4f06a8" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>meerschweinchen.info()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 60 entries, 0 to 59
Data columns (total 4 columns):
 #   Column  Non-Null Count  Dtype   
---  ------  --------------  -----   
 0   ID      60 non-null     int64   
 1   len     60 non-null     float64 
 2   supp    60 non-null     category
 3   dose    60 non-null     float64 
dtypes: category(1), float64(2), int64(1)
memory usage: 1.7 KB</code></pre>
</div>
</div>
<p>Die Dimensionen einer Series oder eines DataFrame können mit dem Attribut <code>shape</code> abgerufen werden. Der DataFrame hat 60 Zeilen und 4 Spalten.</p>
<div id="e56f4f81" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen.shape)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(60, 4)</code></pre>
</div>
</div>
<p>Die Methode <code>pd.DataFrame.describe()</code> erzeugt eine beschreibende Statistik für einen DataFrame. Standardmäßig werden alle numerischen Spalten berücksichtigt. Mit dem Parameter <code>include</code> können die zu berücksichtigenden Spalten vorgegeben werden. <code>include = all</code> berücksichtigt alle Spalten, was nicht unbedingt sinnvoll ist, da auf diese Weise auch die Spalte mit den ID-Nummern der Meerschweinchen ausgewertet wird.</p>
<div id="7c496d1d" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen.describe(include <span class="op">=</span> <span class="st">'all'</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               ID        len supp       dose
count   60.000000  60.000000   60  60.000000
unique        NaN        NaN    2        NaN
top           NaN        NaN   OJ        NaN
freq          NaN        NaN   30        NaN
mean    30.500000  18.813333  NaN   1.166667
std     17.464249   7.649315  NaN   0.628872
min      1.000000   4.200000  NaN   0.500000
25%     15.750000  13.075000  NaN   0.500000
50%     30.500000  19.250000  NaN   1.000000
75%     45.250000  25.275000  NaN   2.000000
max     60.000000  33.900000  NaN   2.000000</code></pre>
</div>
</div>
<p>Mit dem Parameter <code>include</code> kann eine Liste zu berücksichtigender Datentypen übergeben werden. Der Parameter <code>exclude</code> schließt auf die gleiche Weise Datentypen von der Ausgabe aus.</p>
<div id="d6b744c3" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen.describe(include <span class="op">=</span> [<span class="st">'float'</span>]))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             len       dose
count  60.000000  60.000000
mean   18.813333   1.166667
std     7.649315   0.628872
min     4.200000   0.500000
25%    13.075000   0.500000
50%    19.250000   1.000000
75%    25.275000   2.000000
max    33.900000   2.000000</code></pre>
</div>
</div>
<div id="5cb253ad" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen.describe(include <span class="op">=</span> [<span class="st">'category'</span>]))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       supp
count    60
unique    2
top      OJ
freq     30</code></pre>
</div>
</div>
<p>Die Methode <code>pd.DataFrame.count()</code> zählt alle nicht fehlenden Werte in jeder Spalte oder mit <code>pd.DataFrame.count(axis = 'columns')</code> in jeder Zeile.</p>
<div id="5fe05213" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>meerschweinchen.count(axis <span class="op">=</span> <span class="st">'rows'</span>) <span class="co"># der Standardwert von axis ist 'rows'</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>ID      60
len     60
supp    60
dose    60
dtype: int64</code></pre>
</div>
</div>
<p>Die Methode <code>pd.Series.value_counts()</code> zählt die Anzahl der Merkmalsausprägungen in einer Series. Die Methode kann auch auf einen DataFrame angewendet werden, dann wird die Häufigkeit jeder einzigartigen Zeile gezählt (was hier nicht sinnvoll ist).</p>
<div id="f3ef516a" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>meerschweinchen[<span class="st">'dose'</span>].value_counts()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<pre><code>dose
0.5    20
1.0    20
2.0    20
Name: count, dtype: int64</code></pre>
</div>
</div>
<p>Die Methode <code>pd.unique()</code> listet alle einzigartigen Werte einer Series auf.</p>
<div id="b8286925" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>meerschweinchen[<span class="st">'dose'</span>].unique()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>array([0.5, 1. , 2. ])</code></pre>
</div>
</div>
</section>
<section id="slicing" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="slicing"><span class="header-section-number">1.3</span> Slicing</h2>
<p><strong>Hinweis: dieser Abschnitt kommt ähnlich auch im m-EsD vor.</strong></p>
<div class="border">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="00-bilder/zweidimensionaler-datensatz-slicing-mf-mp.png" class="img-fluid figure-img" style="width:45.0%" alt="Dargestellt ist ein zweidimensionaler Block, der einen zweidimensionalen Datensatz repräsentiert. Pfeile repräsentieren die zwei Achsen. Die nullte Achse entspricht der Länge (von oben nach unten) und die erste Achse der Breite des Datensatzes."></p>
<figcaption>zweidimensionaler Datensatz</figcaption>
</figure>
</div>
<p>slicing von Marc Fehr ist lizensiert unter <a href="https://github.com/bausteine-der-datenanalyse/w-python-numpy-grundlagen#CC-BY-4.0-1-ov-file">CC-BY-4.0</a> und abrufbar auf <a href="https://github.com/bausteine-der-datenanalyse/w-python-numpy-grundlagen">GitHub</a>. Die Grafik wurde auf den gezeigten Teil beschnitten und die obenstehende Beschriftung entfernt. 2024</p>
</div>
<p>&nbsp;</p>
<p>Pandas bringt eigene Werkzeuge für die Auswahl von Indexbereichen mit. Der Slice Operator aus der Pythonbasis wird deshalb nur kurz vorgestellt.</p>
<section id="slice-operator" class="level3">
<h3 class="anchored" data-anchor-id="slice-operator">Slice Operator</h3>
<p>Mit dem Slice Operator können wie bei einer Liste Indexbereiche aus einer Series ausgewählt werden.</p>
<div id="b2d478c4" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>zehn_zahlen <span class="op">=</span> pd.Series(<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">10</span>))</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(zehn_zahlen[<span class="dv">3</span>:<span class="dv">6</span>])</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>3    3
4    4
5    5
dtype: int64</code></pre>
</div>
</div>
<p>Mit dem Slice Operator werden die Zeilen eines DataFrames ausgewählt.</p>
<div id="2c63136e" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen[<span class="dv">7</span>:<span class="dv">12</span>])</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    ID   len supp  dose
7    8  11.2   VC   0.5
8    9   5.2   VC   0.5
9   10   7.0   VC   0.5
10  11  16.5   VC   1.0
11  12  16.5   VC   1.0</code></pre>
</div>
</div>
<p>Durch Angabe eines Spaltennamens wird die entsprechende Spalte ausgewählt, die als Series zurückgegeben wird. Durch das Anfügen eines zweiten Slice Operators ist es möglich, wie bei einem eindimensionalen Datensatz die Werte in einem bestimmten Indexbereich abzurufen. Dies wird verkettete Indexierung genannt.</p>
<div id="8b50eb70" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen[<span class="st">'dose'</span>][<span class="dv">10</span>:<span class="dv">15</span>], <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(meerschweinchen[<span class="st">'dose'</span>][<span class="dv">10</span>:<span class="dv">15</span>]))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>10    1.0
11    1.0
12    1.0
13    1.0
14    1.0
Name: dose, dtype: float64 

&lt;class 'pandas.core.series.Series'&gt;</code></pre>
</div>
</div>
<div id="wrn-chainedassignment" class="callout callout-style-simple callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis&nbsp;1.1: Verkettete Indexierung
</div>
</div>
<div class="callout-body-container callout-body">
<p>Die verkettete Indexierung erzeugt in Pandas abhängig vom Kontext eine Kopie des Objekts oder greift auf den Speicherbereich des Objekts zu. Mit Pandas 3.0 wird die verkettete Indexierung nicht mehr unterstützt, das Anlegen einer Kopie wird zum Standard werden. Weitere Informationen erhalten Sie im zitierten Link.</p>
<div>

</div>
<div class="border quarto-layout-panel" data-layout="[5, 90, 5]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 5.0%;justify-content: flex-start;">
<p>&nbsp;</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 90.0%;justify-content: flex-start;">
<p>“Whether a copy or a reference is returned for a setting operation, may depend on the context. This is sometimes called <code>chained assignment</code> and should be avoided. See <a href="https://pandas.pydata.org/docs/user_guide/indexing.html#indexing-view-versus-copy">Returning a View versus Copy</a>.”</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 5.0%;justify-content: flex-start;">
<p>&nbsp;</p>
</div>
</div>
</div>
<p>(<a href="https://pandas.pydata.org/docs/user_guide/indexing.html">Pandas Dokumentation</a>)</p>
</div>
</div>
</section>
<section id="slicing-mit-pandas-methoden" class="level3">
<h3 class="anchored" data-anchor-id="slicing-mit-pandas-methoden">Slicing mit Pandas-Methoden</h3>
<p>Für das Slicing von Series und DataFrames werden in Pandas die Methoden <code>.iloc[]</code> und <code>.loc[]</code> verwendet.</p>
<ul>
<li><p><code>.loc[]</code> arbeitet mit Index- oder Spaltenbeschriftungen, akzeptiert aber auch ein boolsches Array.</p></li>
<li><p><code>.iloc[]</code> arbeitet mit Ganzzahlen, akzeptiert aber auch ein boolsches Array.</p></li>
</ul>
<p>Für das Slicing von Series wird eine Bereichsangabe übergeben, bspw. <code>pd.Series.iloc[5:8]</code>. Für das Slicing von DataFrames werden zwei durch ein Komma getrennte Bereichsangaben übergeben, wobei an erster Stelle die Zeilen und an zweiter Stelle die Spalten ausgewählt werden, bspw. <code>pd.DataFrame.iloc[5, 2:4]</code>. Um alle Zeilen oder Spalten auszuwählen kann der Doppelpunkt verwendet werden, etwa <code>pd.DataFrame.iloc[5, :]</code>.</p>
<section id="beschriftungsbasiertes-slicing-mit-.loc" class="level4">
<h4 class="anchored" data-anchor-id="beschriftungsbasiertes-slicing-mit-.loc">Beschriftungsbasiertes Slicing mit .loc[]</h4>
<p>Für eine Series interpretiert <code>.loc</code> übergebene Zeichen als Indexbeschriftung. Buchstaben und andere Zeichen werden wie strings in Anführungszeichen übergeben, bspw. <code>.loc['e']</code>, Zahlen ohne Anführungszeichen. Neben Einzelwerten (<code>'a'</code> oder <code>0</code>) können Listen oder Arrays (<code>['a', 'b', 'c']</code> oder <code>[1, 2, 3]</code>) und Slices übergeben werden (<code>'a':'c'</code> oder <code>0:2</code>). Das Slicing mit einem Einzelwert führt zur Rückgabe eines Einzelwerts (sog. Skalar).</p>
<div id="wrn-inklusiveslicing" class="callout callout-style-simple callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis&nbsp;1.2: inklusives Slicing
</div>
</div>
<div class="callout-body-container callout-body">
<p>Anders als die Pythonbasis und das Slicing mit <code>.iloc[]</code> zählt Pandas beim beschriftungsbasiertem Slicing inklusiv, gibt also die letzte ausgewählte Position mit aus.</p>
</div>
</div>
<div id="7cfe893c" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Nummern</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>zehn_zahlen <span class="op">=</span> pd.Series(<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">10</span>))</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Rückgabe eines Einzelwerts:"</span>, zehn_zahlen.loc[<span class="dv">5</span>]) <span class="co"># Einzelwert</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(zehn_zahlen.loc[[<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">7</span>]]) <span class="co"># Liste</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(zehn_zahlen.loc[<span class="dv">5</span>:<span class="dv">7</span>], <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>) <span class="co"># Slice</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Buchstaben und andere Zeichen</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>sechs_zahlen <span class="op">=</span> pd.Series(<span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">6</span>)), index <span class="op">=</span> [<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>, <span class="st">'d'</span>, <span class="st">'e'</span>, <span class="st">'f'</span>])</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Rückgabe eines Einzelwerts:"</span>, sechs_zahlen.loc[<span class="st">'c'</span>]) <span class="co"># Einzelwert</span></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sechs_zahlen.loc[[<span class="st">'c'</span>, <span class="st">'f'</span>, <span class="st">'a'</span>]]) <span class="co"># Liste</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sechs_zahlen.loc[<span class="st">'c'</span>:<span class="st">'e'</span>]) <span class="co"># Slice</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rückgabe eines Einzelwerts: 5
2    2
4    4
7    7
dtype: int64
5    5
6    6
7    7
dtype: int64 

Rückgabe eines Einzelwerts: 2
c    2
f    5
a    0
dtype: int64
c    2
d    3
e    4
dtype: int64</code></pre>
</div>
</div>
<p>Die Interpretation als Beschriftung bedeutet, dass bei einem nicht numerischen Index, übergebene Zahlen nicht gefunden werden.</p>
<div id="3199ddaf" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(sechs_zahlen.loc[<span class="dv">2</span>:<span class="dv">4</span>])</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> error:</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(error)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>cannot do slice indexing on Index with these indexers [2] of type int</code></pre>
</div>
</div>
<p>Für DataFrames funktioniert das Slicing genauso.</p>
<div id="f328d448" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen.loc[<span class="dv">18</span>:<span class="dv">22</span>, [<span class="st">'len'</span>, <span class="st">'dose'</span>]])</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     len  dose
18  18.8   1.0
19  15.5   1.0
20  23.6   2.0
21  18.5   2.0
22  33.9   2.0</code></pre>
</div>
</div>
</section>
</section>
<section id="indexbasiertes-slicing-mit-.iloc" class="level3">
<h3 class="anchored" data-anchor-id="indexbasiertes-slicing-mit-.iloc">Indexbasiertes Slicing mit .iloc[]</h3>
<p>Die Methode <code>.iloc[]</code> ermöglicht die Auswahl von Ausschnitten basierend auf Indexpositionen. Die Methode akzeptiert die gleichen Eingaben wie die Methode <code>.loc[]</code>.</p>
<div id="wrn-exklusiveslicing" class="callout callout-style-simple callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis&nbsp;1.3: exklusives Slicing
</div>
</div>
<div class="callout-body-container callout-body">
<p>Beim Slicing mit der Methode <code>.iloc[]</code> zählt Pandas wie die Pythonbasis exklusiv.</p>
</div>
</div>
<p>Das Slicing mit Einzelwerten führt zur Ausgabe eines Einzelwertes. Die Methode akzeptiert ebenfalls eine Liste oder ein Slice.</p>
<div id="ab7e9f56" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Rückgabe eines Einzelwerts:"</span>, meerschweinchen.iloc[<span class="dv">27</span>, <span class="dv">2</span>]) <span class="co"># Einzelwerte</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen.iloc[[<span class="dv">27</span>, <span class="dv">29</span>, <span class="dv">52</span>], <span class="dv">2</span>:<span class="dv">4</span>]) <span class="co"># Liste und Slice</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rückgabe eines Einzelwerts: VC
   supp  dose
27   VC   2.0
29   VC   2.0
52   OJ   2.0</code></pre>
</div>
</div>
<section id="die-methoden-.head-und-.tail" class="level4">
<h4 class="anchored" data-anchor-id="die-methoden-.head-und-.tail">Die Methoden .head() und .tail()</h4>
<p>Vereinfachte Varianten des indexbasierten Slicings sind die Methoden <code>.head(n=5)</code> und <code>.tail(n=5)</code>, mit denen die ersten bzw. letzten n Zeilen eines DataFrame oder einer Series ausgegeben werden können. Über den optionalen Paramenter <code>n</code> kann die Anzahl der angezeigten Zeilen gesteuert werden. Die Methoden eignen sich gut, um sich einen ersten Eindruck von einem Datensatz zu verschaffen.</p>
<div id="5288be6c" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen.head(<span class="dv">3</span>), <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen.tail(<span class="dv">3</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   ID   len supp  dose
0   1   4.2   VC   0.5
1   2  11.5   VC   0.5
2   3   7.3   VC   0.5 

    ID   len supp  dose
57  58  27.3   OJ   2.0
58  59  29.4   OJ   2.0
59  60  23.0   OJ   2.0</code></pre>
</div>
</div>
<p>Ebenso können Series damit betrachtet werden.</p>
<div id="682fdee7" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen[<span class="st">'len'</span>].tail(<span class="dv">3</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>57    27.3
58    29.4
59    23.0
Name: len, dtype: float64</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="aufgaben-slicing" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="aufgaben-slicing"><span class="header-section-number">1.4</span> Aufgaben Slicing</h2>
<ol type="1">
<li>Gegeben ist eine Pandas Series ‘temperaturen_2021’ mit den durchschnittlichen Monatstemperaturen. Wählen Sie die Temperaturen für die Frühlingsmonate (März bis Mai) aus.</li>
</ol>
<div id="bc67ddfa" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>temperaturen_2021 <span class="op">=</span> pd.Series([<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">12</span>, <span class="dv">19</span>, <span class="dv">23</span>, <span class="dv">25</span>, <span class="dv">23</span>, <span class="dv">18</span>, <span class="dv">15</span>, <span class="dv">9</span>, <span class="dv">5</span>],</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>                         index <span class="op">=</span> [<span class="st">'Jan'</span>, <span class="st">'Feb'</span>, <span class="st">'Mär'</span>, <span class="st">'Apr'</span>, <span class="st">'Mai'</span>, <span class="st">'Jun'</span>, </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>                         <span class="st">'Jul'</span>, <span class="st">'Aug'</span>, <span class="st">'Sep'</span>, <span class="st">'Okt'</span>, <span class="st">'Nov'</span>, <span class="st">'Dez'</span>])</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li><p>Wählen Sie die Temperaturen für die letzten drei Monate des Jahres einmal mit Hilfe des Slicing Operators und einmal mit Hilfe der Pandas-Methoden aus.</p></li>
<li><p>Wählen Sie mit der Methode <code>.loc[]</code> die Spalten ‘dose’ und ‘len’ des DataFrame meerschweinchen aus und geben Sie die ersten 4 und die letzten 3 Zeilen aus. (Code zum Einlesen der Datei siehe <a href="#lst-readfile" class="quarto-xref">Code-Block&nbsp;<span>1.1</span></a>)</p></li>
<li><p>Die Methoden <code>.loc[]</code> und <code>.iloc[]</code> akzeptieren auch ein boolsches Array als Eingabe. Geben Sie aus der Spalte ‘dose’ des DataFrame meerschweinchen alle Zeilen mit dem Wert 2.0 aus.</p></li>
</ol>
<div id="tip-dose" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tipp&nbsp;1.4: Musterlösung Slicing
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Aufgabe 1</p>
<div id="fecdbf31" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperaturen_2021.loc[[<span class="st">'Mär'</span>, <span class="st">'Apr'</span>, <span class="st">'Mai'</span>]])</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Mär     7
Apr    12
Mai    19
dtype: int64</code></pre>
</div>
</div>
<p>Aufgabe 2</p>
<div id="0f590223" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperaturen_2021[<span class="bu">len</span>(temperaturen_2021)<span class="op">-</span><span class="dv">3</span>:], <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperaturen_2021.iloc[<span class="bu">len</span>(temperaturen_2021)<span class="op">-</span><span class="dv">3</span>:])</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Okt    15
Nov     9
Dez     5
dtype: int64 

Okt    15
Nov     9
Dez     5
dtype: int64</code></pre>
</div>
</div>
<p>Aufgabe 3</p>
<div id="710d15c4" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen.loc[ :, [<span class="st">'dose'</span>, <span class="st">'len'</span>]].head(n <span class="op">=</span> <span class="dv">4</span>), <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen.loc[ :, [<span class="st">'dose'</span>, <span class="st">'len'</span>]].tail(n <span class="op">=</span> <span class="dv">3</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   dose   len
0   0.5   4.2
1   0.5  11.5
2   0.5   7.3
3   0.5   5.8 

    dose   len
57   2.0  27.3
58   2.0  29.4
59   2.0  23.0</code></pre>
</div>
</div>
<p>Aufgabe 4</p>
<div id="2e6d8a91" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Slice aus Series</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="co"># print(meerschweinchen['dose'].loc[meerschweinchen['dose'] == 2.0])</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Slice aus DataFrame</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(meerschweinchen.loc[meerschweinchen[<span class="st">'dose'</span>] <span class="op">==</span> <span class="fl">2.0</span>, [<span class="st">'dose'</span>]])</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    dose
20   2.0
21   2.0
22   2.0
23   2.0
24   2.0
25   2.0
26   2.0
27   2.0
28   2.0
29   2.0
50   2.0
51   2.0
52   2.0
53   2.0
54   2.0
55   2.0
56   2.0
57   2.0
58   2.0
59   2.0</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="datenstrukturen-verbinden" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="datenstrukturen-verbinden"><span class="header-section-number">1.5</span> Datenstrukturen verbinden</h2>
<p>DataFrames sind flexible Datenspeicher. Mit der Funktion <code>pd.concat()</code> können Series und DataFrames zusammengeführt werden.</p>
<ul>
<li>Mit dem Argument <code>pd.concat(ignore_index = True)</code> wird ein neuer Index generiert.</li>
<li>Mit dem Argument <code>pd.concat(axis = 1)</code> werden die übergebenen objekte spaltenweise zusammengeführt.</li>
</ul>
<div id="f02f71e9" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>series_1 <span class="op">=</span> pd.Series([<span class="dv">1</span>, <span class="dv">2</span>])</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>series_2 <span class="op">=</span> pd.Series([<span class="dv">4</span>, <span class="dv">5</span>])</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd.concat([series_1, series_2]), <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd.concat([series_1, series_2], ignore_index <span class="op">=</span> <span class="va">True</span>), <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd.concat([series_1, series_2], ignore_index <span class="op">=</span> <span class="va">True</span>, axis <span class="op">=</span> <span class="dv">1</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0    1
1    2
0    4
1    5
dtype: int64 

0    1
1    2
2    4
3    5
dtype: int64 

   0  1
0  1  4
1  2  5</code></pre>
</div>
</div>
<p>Gleichermaßen können DataFrames verbunden werden.</p>
<div id="3ffd3bbf" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>temperaturen_2022 <span class="op">=</span> pd.Series([<span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">18</span>, <span class="dv">21</span>, <span class="dv">24</span>, <span class="dv">23</span>, <span class="dv">19</span>, <span class="dv">14</span>, <span class="dv">8</span>, <span class="dv">4</span>],</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>                         index <span class="op">=</span> [<span class="st">'Jan'</span>, <span class="st">'Feb'</span>, <span class="st">'Mär'</span>, <span class="st">'Apr'</span>, <span class="st">'Mai'</span>, <span class="st">'Jun'</span>, </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>                         <span class="st">'Jul'</span>, <span class="st">'Aug'</span>, <span class="st">'Sep'</span>, <span class="st">'Okt'</span>, <span class="st">'Nov'</span>, <span class="st">'Dez'</span>])</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>temperaturen_2023 <span class="op">=</span> pd.Series([<span class="op">-</span><span class="dv">3</span>, <span class="op">-</span><span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">20</span>, <span class="dv">19</span>, <span class="dv">16</span>, <span class="dv">15</span>, <span class="dv">7</span>, <span class="dv">6</span>],</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>                         index <span class="op">=</span> [<span class="st">'Jan'</span>, <span class="st">'Feb'</span>, <span class="st">'Mär'</span>, <span class="st">'Apr'</span>, <span class="st">'Mai'</span>, <span class="st">'Jun'</span>, </span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>                         <span class="st">'Jul'</span>, <span class="st">'Aug'</span>, <span class="st">'Sep'</span>, <span class="st">'Okt'</span>, <span class="st">'Nov'</span>, <span class="st">'Dez'</span>])</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>temperaturen_2024 <span class="op">=</span> pd.Series([<span class="op">-</span><span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">17</span>, <span class="dv">24</span>, <span class="dv">25</span>, <span class="dv">20</span>, <span class="dv">17</span>, <span class="dv">14</span>, <span class="dv">9</span>, <span class="dv">2</span>],</span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a>                         index <span class="op">=</span> [<span class="st">'Jan'</span>, <span class="st">'Feb'</span>, <span class="st">'Mär'</span>, <span class="st">'Apr'</span>, <span class="st">'Mai'</span>, <span class="st">'Jun'</span>, </span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a>                         <span class="st">'Jul'</span>, <span class="st">'Aug'</span>, <span class="st">'Sep'</span>, <span class="st">'Okt'</span>, <span class="st">'Nov'</span>, <span class="st">'Dez'</span>])</span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Series zu DataFrame verbinden</span></span>
<span id="cb84-14"><a href="#cb84-14" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> pd.concat([temperaturen_2021, temperaturen_2022], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb84-15"><a href="#cb84-15" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.concat([temperaturen_2023, temperaturen_2024], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb84-16"><a href="#cb84-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-17"><a href="#cb84-17" aria-hidden="true" tabindex="-1"></a><span class="co"># DataFrames verbinden</span></span>
<span id="cb84-18"><a href="#cb84-18" aria-hidden="true" tabindex="-1"></a>temperaturen <span class="op">=</span> pd.concat([df1, df2], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb84-19"><a href="#cb84-19" aria-hidden="true" tabindex="-1"></a>temperaturen.columns <span class="op">=</span> [<span class="dv">2021</span>, <span class="dv">2022</span>, <span class="dv">2023</span>, <span class="dv">2024</span>]</span>
<span id="cb84-20"><a href="#cb84-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperaturen)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     2021  2022  2023  2024
Jan     2     3    -3    -1
Feb     4     6    -1     2
Mär     7     9     4     5
Apr    12    13     9     8
Mai    19    18    15    17
Jun    23    21    20    24
Jul    25    24    20    25
Aug    23    23    19    20
Sep    18    19    16    17
Okt    15    14    15    14
Nov     9     8     7     9
Dez     5     4     6     2</code></pre>
</div>
</div>
</section>
<section id="einfügen-und-löschen-in-datenstrukturen" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="einfügen-und-löschen-in-datenstrukturen"><span class="header-section-number">1.6</span> Einfügen und löschen in Datenstrukturen</h2>
<p>Der Operator <code>del</code> aus der Pythonbasis löscht Spalten aus einem DataFrame <code>del DataFrame['Spaltenname']</code>. Pandas bringt aber auch eigene Methoden mit, um Einträge zeilen- / oder spaltenweise zu ergänzen und zu löschen.</p>
<ul>
<li><p><code>pd.DataFrame.drop(labels = None, axis = 0, index = None, columns = None, inplace = False)</code> entfernt Zeilen oder Spalten nach den mit dem Parameter <code>labels</code> als Einzelwert (<code>'Spalte 1'</code>) oder als Liste (<code>['Spalte 1', 'Spalte 2']</code>) übergebenen Beschriftungen. Der Parameter <code>axis</code> steuert, ob Zeilen oder Spalten (<code>axis = 1</code>) entfernt werden sollen. Die Parameter <code>index</code> und <code>columns</code> sind alternative Möglichkeiten, Index- oder Spaltenbeschriftungen direkt zu übergeben und ersetzen die Parameter <code>labels</code> und <code>axis</code>.</p></li>
<li><p><code>pd.DataFrame.insert(loc, column, value)</code> fügt eine Spalte an Position <code>loc</code> mit dem Spaltennamen <code>column</code> und dem Inhalt <code>value</code> ein. Falls <code>value</code> eine Series mit abweichendem Index ist, kann über das Attribut <code>value = Series.values</code> auf die enthaltenen Werte der Series zugegriffen und diese in den bestehenden Index einfgefügt werden (andernfalls gleicht Pandas die Indizes der Series und des DataFrames ab und fügt nur die Werte übereinstimmender Indizes ein).</p></li>
<li><p>Werte können zeilenweise mit der Methode <code>pd.DataFrame.loc[index] = value</code> eingefügt werden. Falls <code>value</code> eine Series ist, muss über das Attribut <code>value = Series.values</code> auf die enthaltenen Werte der Series zugegriffen werden, da Pandas andernfalls versucht, den Index der Series mit den Spaltennamen des DataFrames abzugleichen. Wird als <code>value</code> ein Einzelwert übergeben, füllt dieser die gesamte Zeile aus.</p></li>
</ul>
</section>
<section id="aufgaben-verbinden-und-löschen" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="aufgaben-verbinden-und-löschen"><span class="header-section-number">1.7</span> Aufgaben verbinden und löschen</h2>
<p>Legen Sie einen leeren DataFrame <code>df = pd.DataFrame()</code> an.</p>
<ol type="1">
<li><p>Fügen Sie die Spalten ‘len’ und ‘dose’ aus dem DataFrame ‘meerschweinchen’ ein.</p></li>
<li><p>Löschen Sie alle ungeraden Zeilennummern aus dem DataFrame df.</p></li>
<li><p>Benutzen Sie die Indexnummern des DataFrame df, um die entsprechenden Zeilen aus der Spalte ‘ID’ des DataFrame ‘meerschweinchen’ auszuwählen. Fügen Sie diese als Spalte an Indexposition 0 in den DataFrame df ein.</p></li>
</ol>
<div id="tip-mergeanddelete" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tipp&nbsp;1.5: Musterlösung verbinden und löschen
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li>Aufgabe</li>
</ol>
<div id="0ee31cfc" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame()</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative 1</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'len'</span>] <span class="op">=</span> meerschweinchen[<span class="st">'len'</span>]</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative 2</span></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>df.insert(loc <span class="op">=</span> <span class="dv">1</span>, column <span class="op">=</span> <span class="st">'dose'</span>, value <span class="op">=</span> meerschweinchen[<span class="st">'dose'</span>])</span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.head(), <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, df.shape)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    len  dose
0   4.2   0.5
1  11.5   0.5
2   7.3   0.5
3   5.8   0.5
4   6.4   0.5 
 (60, 2)</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Aufgabe</li>
</ol>
<div id="74be78be" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.drop(index <span class="op">=</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="bu">len</span>(df), <span class="dv">2</span>))</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.head(), <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, df.shape)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    len  dose
0   4.2   0.5
2   7.3   0.5
4   6.4   0.5
6  11.2   0.5
8   5.2   0.5 
 (30, 2)</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Aufgabe</li>
</ol>
<div id="f85a4374" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>df.insert(loc <span class="op">=</span> <span class="dv">0</span>, column <span class="op">=</span> <span class="st">'ID'</span>, value <span class="op">=</span> meerschweinchen.loc[df.index, <span class="st">'ID'</span>])</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.head(), <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.tail(), <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"df.shape:"</span>, df.shape)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   ID   len  dose
0   1   4.2   0.5
2   3   7.3   0.5
4   5   6.4   0.5
6   7  11.2   0.5
8   9   5.2   0.5 

    ID   len  dose
50  51  25.5   2.0
52  53  22.4   2.0
54  55  24.8   2.0
56  57  26.4   2.0
58  59  29.4   2.0 

df.shape: (30, 3)</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="quellen" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="quellen">Quellen</h2>
<p><a href="https://pandas.pydata.org/docs/user_guide/dsintro.html" class="uri">https://pandas.pydata.org/docs/user_guide/dsintro.html</a> <a href="https://pandas.pydata.org/docs/user_guide/basics.html" class="uri">https://pandas.pydata.org/docs/user_guide/basics.html</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../index.html" class="pagination-link" aria-label="Werkzeugbaustein Pandas">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Werkzeugbaustein Pandas</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../skript/operationen.html" class="pagination-link" aria-label="Operationen">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Operationen</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>